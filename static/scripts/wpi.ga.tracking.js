var wpi=wpi||{};wpi.ga={tracking:{event:{category:{invoices:"Invoice",spc:"Single Page Checkout"},action:{pay:"Pay",view:"View"}},get_event_cat:function(category){return"string"==typeof this.event.category[category]?this.event.category[category]:"Unknown Category"},get_event_act:function(action){return"string"==typeof this.event.action[action]?this.event.action[action]:"Unknown Action"},init:function(options){for(var i in options)"true"==options[i]&&"function"==typeof this[i]&&this[i]()},attempting_pay_invoice:function(){var self=this;wpi=wpi||{},jQuery("#cc_pay_button").on("click",function(){"undefined"!=typeof wpi.invoice_id&&self.track_pay_invoice()}),jQuery(document).bind("wpi_spc_success",function(event,ui){wpi.invoice_title=ui.wpi_invoice.title,wpi.invoice_amount=ui.wpi_invoice.invoice_amount,wpi.invoice_id=ui.wpi_invoice.invoice_id,wpi.tax=0,wpi.business_name=ui.wpi_invoice.business_name,wpi.user_data=ui.wpi_invoice.user_data,wpi.invoice_items=ui.wpi_invoice.invoice_items,self.track_pay_invoice()})},track_pay_invoice:function(){"undefined"!=typeof wpi.invoice_items&&(_gaq.push(["_trackPageview"]),_gaq.push(["_addTrans",wpi.invoice_id,wpi.business_name,wpi.invoice_amount,wpi.tax,"0",wpi.user_data.city,wpi.user_data.state,wpi.user_data.country]),jQuery.each(wpi.invoice_items,function(i,item){_gaq.push(["_addItem",wpi.invoice_id,item.id,item.name,"",item.price,item.quantity])}),_gaq.push(["_trackTrans"]))},view_invoice:function(){_gaq.push(["_trackEvent",wpi.ga.tracking.get_event_cat("invoices"),wpi.ga.tracking.get_event_act("view"),"undefined"!=typeof wpi.invoice_title?wpi.invoice_title:"Unknown Label"])}}};